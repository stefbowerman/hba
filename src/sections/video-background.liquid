<div data-section-id="{{ section.id }}" data-section-type="video-backdrop">
  {% assign src = section.settings.video_file_url %}

  {% if src != blank %}
    {% assign video_type = '' %}

    {% if src contains '.mp4' %}
      {% assign video_type = 'mp4' %}
    {% elsif src contains '.og' %}
      {% assign video_type = 'ogg' %}
    {% elsif src contains '.avi' %}
      {% assign video_type = 'avi' %}
    {% elsif src contains '.webm' %}
      {% assign video_type = 'webm' %}
    {% endif %}

    {% if video_type == '' %}
      <!-- ALERT: Your video is invalid -->
    {% else %}
      <div class="video-background">
        <video autoplay loop muted>
          <source src="{{ src }}" type="video/{{ video_type }}" />
        </video>
      </div>
    {% endif %}
  {% endif %}
</div>

{% schema %}
  {
    "name": "Video Background",
    "settings": [
      {
        "type": "url",
        "id": "video_file_url",
        "label": "Video File URL"
      }
    ]
  }
{% endschema %}